!function(t){"use strict";function e(e){var n=e.data;e.isDefaultPrevented()||(e.preventDefault(),t(e.target).ajaxSubmit(n))}function n(e){var n=e.target,a=t(n);if(!a.is("[type=submit],[type=image]")){var r=a.closest("[type=submit]");if(0===r.length)return;n=r[0]}var i=this;if(i.clk=n,"image"==n.type)if(void 0!==e.offsetX)i.clk_x=e.offsetX,i.clk_y=e.offsetY;else if("function"==typeof t.fn.offset){var o=a.offset();i.clk_x=e.pageX-o.left,i.clk_y=e.pageY-o.top}else i.clk_x=e.pageX-n.offsetLeft,i.clk_y=e.pageY-n.offsetTop;setTimeout(function(){i.clk=i.clk_x=i.clk_y=null},100)}function a(){if(t.fn.ajaxSubmit.debug){var e="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(e):window.opera&&window.opera.postError&&window.opera.postError(e)}}var r={};r.fileapi=void 0!==t("<input type='file'/>").get(0).files,r.formdata=void 0!==window.FormData;var i=!!t.fn.prop;t.fn.attr2=function(){if(!i)return this.attr.apply(this,arguments);var t=this.prop.apply(this,arguments);return t&&t.jquery||"string"==typeof t?t:this.attr.apply(this,arguments)},t.fn.ajaxSubmit=function(e){function n(n){var a,r,i=t.param(n,e.traditional).split("&"),o=i.length,s=[];for(a=0;o>a;a++)i[a]=i[a].replace(/\+/g," "),r=i[a].split("="),s.push([decodeURIComponent(r[0]),decodeURIComponent(r[1])]);return s}function o(a){for(var r=new FormData,i=0;i<a.length;i++)r.append(a[i].name,a[i].value);if(e.extraData){var o=n(e.extraData);for(i=0;i<o.length;i++)o[i]&&r.append(o[i][0],o[i][1])}e.data=null;var s=t.extend(!0,{},t.ajaxSettings,e,{contentType:!1,processData:!1,cache:!1,type:c||"POST"});e.uploadProgress&&(s.xhr=function(){var n=t.ajaxSettings.xhr();return n.upload&&n.upload.addEventListener("progress",function(t){var n=0,a=t.loaded||t.position,r=t.total;t.lengthComputable&&(n=Math.ceil(a/r*100)),e.uploadProgress(t,a,r,n)},!1),n}),s.data=null;var u=s.beforeSend;return s.beforeSend=function(t,e){e.data=r,u&&u.call(this,t,e)},t.ajax(s)}function s(n){function r(t){var e=null;try{t.contentWindow&&(e=t.contentWindow.document)}catch(n){a("cannot get iframe.contentWindow document: "+n)}if(e)return e;try{e=t.contentDocument?t.contentDocument:t.document}catch(n){a("cannot get iframe.contentDocument: "+n),e=t.document}return e}function o(){function e(){try{var t=r(v).readyState;a("state = "+t),t&&"uninitialized"==t.toLowerCase()&&setTimeout(e,50)}catch(n){a("Server abort: ",n," (",n.name,")"),s(S),_&&clearTimeout(_),_=void 0}}var n=p.attr2("target"),i=p.attr2("action");$.setAttribute("target",h),(!c||/post/i.test(c))&&$.setAttribute("method","POST"),i!=f.url&&$.setAttribute("action",f.url),f.skipEncodingOverride||c&&!/post/i.test(c)||p.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),f.timeout&&(_=setTimeout(function(){b=!0,s(k)},f.timeout));var o=[];try{if(f.extraData)for(var u in f.extraData)f.extraData.hasOwnProperty(u)&&(t.isPlainObject(f.extraData[u])&&f.extraData[u].hasOwnProperty("name")&&f.extraData[u].hasOwnProperty("value")?o.push(t('<input type="hidden" name="'+f.extraData[u].name+'">').val(f.extraData[u].value).appendTo($)[0]):o.push(t('<input type="hidden" name="'+u+'">').val(f.extraData[u]).appendTo($)[0]));f.iframeTarget||g.appendTo("body"),v.attachEvent?v.attachEvent("onload",s):v.addEventListener("load",s,!1),setTimeout(e,15);try{$.submit()}catch(l){var d=document.createElement("form").submit;d.apply($)}}finally{$.setAttribute("action",i),n?$.setAttribute("target",n):p.removeAttr("target"),t(o).remove()}}function s(e){if(!y.aborted&&!A){if(O=r(v),O||(a("cannot access response document"),e=S),e===k&&y)return y.abort("timeout"),j.reject(y,"timeout"),void 0;if(e==S&&y)return y.abort("server abort"),j.reject(y,"error","server abort"),void 0;if(O&&O.location.href!=f.iframeSrc||b){v.detachEvent?v.detachEvent("onload",s):v.removeEventListener("load",s,!1);var n,i="success";try{if(b)throw"timeout";var o="xml"==f.dataType||O.XMLDocument||t.isXMLDoc(O);if(a("isXml="+o),!o&&window.opera&&(null===O.body||!O.body.innerHTML)&&--M)return a("requeing onLoad callback, DOM not available"),setTimeout(s,250),void 0;var c=O.body?O.body:O.documentElement;y.responseText=c?c.innerHTML:null,y.responseXML=O.XMLDocument?O.XMLDocument:O,o&&(f.dataType="xml"),y.getResponseHeader=function(t){var e={"content-type":f.dataType};return e[t.toLowerCase()]},c&&(y.status=Number(c.getAttribute("status"))||y.status,y.statusText=c.getAttribute("statusText")||y.statusText);var u=(f.dataType||"").toLowerCase(),l=/(json|script|text)/.test(u);if(l||f.textarea){var p=O.getElementsByTagName("textarea")[0];if(p)y.responseText=p.value,y.status=Number(p.getAttribute("status"))||y.status,y.statusText=p.getAttribute("statusText")||y.statusText;else if(l){var h=O.getElementsByTagName("pre")[0],m=O.getElementsByTagName("body")[0];h?y.responseText=h.textContent?h.textContent:h.innerText:m&&(y.responseText=m.textContent?m.textContent:m.innerText)}}else"xml"==u&&!y.responseXML&&y.responseText&&(y.responseXML=q(y.responseText));try{D=L(y,u,f)}catch(x){i="parsererror",y.error=n=x||i}}catch(x){a("error caught: ",x),i="error",y.error=n=x||i}y.aborted&&(a("upload aborted"),i=null),y.status&&(i=y.status>=200&&y.status<300||304===y.status?"success":"error"),"success"===i?(f.success&&f.success.call(f.context,D,"success",y),j.resolve(y.responseText,"success",y),d&&t.event.trigger("ajaxSuccess",[y,f])):i&&(void 0===n&&(n=y.statusText),f.error&&f.error.call(f.context,y,i,n),j.reject(y,"error",n),d&&t.event.trigger("ajaxError",[y,f,n])),d&&t.event.trigger("ajaxComplete",[y,f]),d&&!--t.active&&t.event.trigger("ajaxStop"),f.complete&&f.complete.call(f.context,y,i),A=!0,f.timeout&&clearTimeout(_),setTimeout(function(){f.iframeTarget?g.attr("src",f.iframeSrc):g.remove(),y.responseXML=null},100)}}}var u,l,f,d,h,g,v,y,x,w,b,_,$=p[0],j=t.Deferred();if(j.abort=function(t){y.abort(t)},n)for(l=0;l<m.length;l++)u=t(m[l]),i?u.prop("disabled",!1):u.removeAttr("disabled");if(f=t.extend(!0,{},t.ajaxSettings,e),f.context=f.context||f,h="jqFormIO"+(new Date).getTime(),f.iframeTarget?(g=t(f.iframeTarget),w=g.attr2("name"),w?h=w:g.attr2("name",h)):(g=t('<iframe name="'+h+'" src="'+f.iframeSrc+'" />'),g.css({position:"absolute",top:"-1000px",left:"-1000px"})),v=g[0],y={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(e){var n="timeout"===e?"timeout":"aborted";a("aborting upload... "+n),this.aborted=1;try{v.contentWindow.document.execCommand&&v.contentWindow.document.execCommand("Stop")}catch(r){}g.attr("src",f.iframeSrc),y.error=n,f.error&&f.error.call(f.context,y,n,e),d&&t.event.trigger("ajaxError",[y,f,n]),f.complete&&f.complete.call(f.context,y,n)}},d=f.global,d&&0===t.active++&&t.event.trigger("ajaxStart"),d&&t.event.trigger("ajaxSend",[y,f]),f.beforeSend&&f.beforeSend.call(f.context,y,f)===!1)return f.global&&t.active--,j.reject(),j;if(y.aborted)return j.reject(),j;x=$.clk,x&&(w=x.name,w&&!x.disabled&&(f.extraData=f.extraData||{},f.extraData[w]=x.value,"image"==x.type&&(f.extraData[w+".x"]=$.clk_x,f.extraData[w+".y"]=$.clk_y)));var k=1,S=2,T=t("meta[name=csrf-token]").attr("content"),C=t("meta[name=csrf-param]").attr("content");C&&T&&(f.extraData=f.extraData||{},f.extraData[C]=T),f.forceSync?o():setTimeout(o,10);var D,O,A,M=50,q=t.parseXML||function(t,e){return window.ActiveXObject?(e=new ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(t)):e=(new DOMParser).parseFromString(t,"text/xml"),e&&e.documentElement&&"parsererror"!=e.documentElement.nodeName?e:null},E=t.parseJSON||function(t){return window.eval("("+t+")")},L=function(e,n,a){var r=e.getResponseHeader("content-type")||"",i="xml"===n||!n&&r.indexOf("xml")>=0,o=i?e.responseXML:e.responseText;return i&&"parsererror"===o.documentElement.nodeName&&t.error&&t.error("parsererror"),a&&a.dataFilter&&(o=a.dataFilter(o,n)),"string"==typeof o&&("json"===n||!n&&r.indexOf("json")>=0?o=E(o):("script"===n||!n&&r.indexOf("javascript")>=0)&&t.globalEval(o)),o};return j}if(!this.length)return a("ajaxSubmit: skipping submit process - no element selected"),this;var c,u,l,p=this;"function"==typeof e?e={success:e}:void 0===e&&(e={}),c=e.type||this.attr2("method"),u=e.url||this.attr2("action"),l="string"==typeof u?t.trim(u):"",l=l||window.location.href||"",l&&(l=(l.match(/^([^#]+)/)||[])[1]),e=t.extend(!0,{url:l,success:t.ajaxSettings.success,type:c||t.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},e);var f={};if(this.trigger("form-pre-serialize",[this,e,f]),f.veto)return a("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(e.beforeSerialize&&e.beforeSerialize(this,e)===!1)return a("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var d=e.traditional;void 0===d&&(d=t.ajaxSettings.traditional);var h,m=[],g=this.formToArray(e.semantic,m);if(e.data&&(e.extraData=e.data,h=t.param(e.data,d)),e.beforeSubmit&&e.beforeSubmit(g,this,e)===!1)return a("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[g,this,e,f]),f.veto)return a("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var v=t.param(g,d);h&&(v=v?v+"&"+h:h),"GET"==e.type.toUpperCase()?(e.url+=(e.url.indexOf("?")>=0?"&":"?")+v,e.data=null):e.data=v;var y=[];if(e.resetForm&&y.push(function(){p.resetForm()}),e.clearForm&&y.push(function(){p.clearForm(e.includeHidden)}),!e.dataType&&e.target){var x=e.success||function(){};y.push(function(n){var a=e.replaceTarget?"replaceWith":"html";t(e.target)[a](n).each(x,arguments)})}else e.success&&y.push(e.success);if(e.success=function(t,n,a){for(var r=e.context||this,i=0,o=y.length;o>i;i++)y[i].apply(r,[t,n,a||p,p])},e.error){var w=e.error;e.error=function(t,n,a){var r=e.context||this;w.apply(r,[t,n,a,p])}}if(e.complete){var b=e.complete;e.complete=function(t,n){var a=e.context||this;b.apply(a,[t,n,p])}}var _=t("input[type=file]:enabled",this).filter(function(){return""!==t(this).val()}),$=_.length>0,j="multipart/form-data",k=p.attr("enctype")==j||p.attr("encoding")==j,S=r.fileapi&&r.formdata;a("fileAPI :"+S);var T,C=($||k)&&!S;e.iframe!==!1&&(e.iframe||C)?e.closeKeepAlive?t.get(e.closeKeepAlive,function(){T=s(g)}):T=s(g):T=($||k)&&S?o(g):t.ajax(e),p.removeData("jqxhr").data("jqxhr",T);for(var D=0;D<m.length;D++)m[D]=null;return this.trigger("form-submit-notify",[this,e]),this},t.fn.ajaxForm=function(r){if(r=r||{},r.delegation=r.delegation&&t.isFunction(t.fn.on),!r.delegation&&0===this.length){var i={s:this.selector,c:this.context};return!t.isReady&&i.s?(a("DOM not ready, queuing ajaxForm"),t(function(){t(i.s,i.c).ajaxForm(r)}),this):(a("terminating; zero elements found by selector"+(t.isReady?"":" (DOM not ready)")),this)}return r.delegation?(t(document).off("submit.form-plugin",this.selector,e).off("click.form-plugin",this.selector,n).on("submit.form-plugin",this.selector,r,e).on("click.form-plugin",this.selector,r,n),this):this.ajaxFormUnbind().bind("submit.form-plugin",r,e).bind("click.form-plugin",r,n)},t.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},t.fn.formToArray=function(e,n){var a=[];if(0===this.length)return a;var i=this[0],o=e?i.getElementsByTagName("*"):i.elements;if(!o)return a;var s,c,u,l,p,f,d;for(s=0,f=o.length;f>s;s++)if(p=o[s],u=p.name,u&&!p.disabled)if(e&&i.clk&&"image"==p.type)i.clk==p&&(a.push({name:u,value:t(p).val(),type:p.type}),a.push({name:u+".x",value:i.clk_x},{name:u+".y",value:i.clk_y}));else if(l=t.fieldValue(p,!0),l&&l.constructor==Array)for(n&&n.push(p),c=0,d=l.length;d>c;c++)a.push({name:u,value:l[c]});else if(r.fileapi&&"file"==p.type){n&&n.push(p);var h=p.files;if(h.length)for(c=0;c<h.length;c++)a.push({name:u,value:h[c],type:p.type});else a.push({name:u,value:"",type:p.type})}else null!==l&&"undefined"!=typeof l&&(n&&n.push(p),a.push({name:u,value:l,type:p.type,required:p.required}));if(!e&&i.clk){var m=t(i.clk),g=m[0];u=g.name,u&&!g.disabled&&"image"==g.type&&(a.push({name:u,value:m.val()}),a.push({name:u+".x",value:i.clk_x},{name:u+".y",value:i.clk_y}))}return a},t.fn.formSerialize=function(e){return t.param(this.formToArray(e))},t.fn.fieldSerialize=function(e){var n=[];return this.each(function(){var a=this.name;if(a){var r=t.fieldValue(this,e);if(r&&r.constructor==Array)for(var i=0,o=r.length;o>i;i++)n.push({name:a,value:r[i]});else null!==r&&"undefined"!=typeof r&&n.push({name:this.name,value:r})}}),t.param(n)},t.fn.fieldValue=function(e){for(var n=[],a=0,r=this.length;r>a;a++){var i=this[a],o=t.fieldValue(i,e);null===o||"undefined"==typeof o||o.constructor==Array&&!o.length||(o.constructor==Array?t.merge(n,o):n.push(o))}return n},t.fieldValue=function(e,n){var a=e.name,r=e.type,i=e.tagName.toLowerCase();if(void 0===n&&(n=!0),n&&(!a||e.disabled||"reset"==r||"button"==r||("checkbox"==r||"radio"==r)&&!e.checked||("submit"==r||"image"==r)&&e.form&&e.form.clk!=e||"select"==i&&-1==e.selectedIndex))return null;if("select"==i){var o=e.selectedIndex;if(0>o)return null;for(var s=[],c=e.options,u="select-one"==r,l=u?o+1:c.length,p=u?o:0;l>p;p++){var f=c[p];if(f.selected){var d=f.value;if(d||(d=f.attributes&&f.attributes.value&&!f.attributes.value.specified?f.text:f.value),u)return d;s.push(d)}}return s}return t(e).val()},t.fn.clearForm=function(e){return this.each(function(){t("input,select,textarea",this).clearFields(e)})},t.fn.clearFields=t.fn.clearInputs=function(e){var n=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var a=this.type,r=this.tagName.toLowerCase();n.test(a)||"textarea"==r?this.value="":"checkbox"==a||"radio"==a?this.checked=!1:"select"==r?this.selectedIndex=-1:"file"==a?/MSIE/.test(navigator.userAgent)?t(this).replaceWith(t(this).clone(!0)):t(this).val(""):e&&(e===!0&&/hidden/.test(a)||"string"==typeof e&&t(this).is(e))&&(this.value="")})},t.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},t.fn.enable=function(t){return void 0===t&&(t=!0),this.each(function(){this.disabled=!t})},t.fn.selected=function(e){return void 0===e&&(e=!0),this.each(function(){var n=this.type;if("checkbox"==n||"radio"==n)this.checked=e;else if("option"==this.tagName.toLowerCase()){var a=t(this).parent("select");e&&a[0]&&"select-one"==a[0].type&&a.find("option").selected(!1),this.selected=e}})},t.fn.ajaxSubmit.debug=!1}("undefined"!=typeof jQuery?jQuery:window.Zepto);